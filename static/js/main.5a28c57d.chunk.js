(this["webpackJsonpui-todo"]=this["webpackJsonpui-todo"]||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),u=(a(79),a(80),a(23)),i=a(36),s=a(19),d=function(e){return{type:"SET_TODOS",data:e}},p=function(e,t){return{type:"ADD_TODO",data:{id:e,description:t}}},l=function(e,t){return{type:"UPDATE_TODO",data:{id:e,description:t}}},f=function(e){return{type:"DELETE_TODO",data:e}},b=function(e,t){var a=t.type,n=t.data;switch(a){case"SET_TODOS":return Object(s.a)(Object(s.a)({},e),{},{todos:n});case"ADD_TODO":var r=Object(s.a)(Object(s.a)({},e.todos),{},Object(i.a)({},n.id,{description:n.description}));return Object(s.a)(Object(s.a)({},e),{},{todos:r});case"UPDATE_TODO":return Object(s.a)(Object(s.a)({},e),{},Object(i.a)({},n.id,{description:n.description}));case"DELETE_TODO":return delete e.todos[n],Object(s.a)({},e);default:return e}},m={todos:{}},O=Object(n.createContext)(m),v=function(e){var t=e.children,a=Object(n.useReducer)(b,m),c=Object(u.a)(a,2),o=c[0],i=c[1];return r.a.createElement(O.Provider,{value:{state:o,dispatch:i}},t)},h=function(){return r.a.createElement("h1",{"data-cy":"header"},"TODO")},j=a(5),y=a.n(j),E=a(11),_=a(119),k=a(52),T=a(120),w=a(48),g=a.n(w);a(82);a(85).config();g.a.initializeApp({apiKey:"AIzaSyCfB6d1VIuYH9TyaZcaqq7kHOTVbRgQ0ec",authDomain:"engineeringbootcamp-a9d1e.firebaseapp.com",databaseURL:"https://engineeringbootcamp-a9d1e.firebaseio.com",projectId:"engineeringbootcamp-a9d1e",storageBucket:"engineeringbootcamp-a9d1e.appspot.com",messagingSenderId:"997469609789",appId:"1:997469609789:web:2ee2f5afd83f39e0602f54"});var x=g.a.firestore(),D={fetchTodos:function(){var e=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,x.collection("todo-list").get();case 3:return e.sent.docs.forEach((function(e){t[e.id]=e.data()})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addTodo:function(){var e=Object(E.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("todo-list").doc(t).set({description:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateTodo:function(){var e=Object(E.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("todo-list").doc(t).update({description:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteTodo:function(){var e=Object(E.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collection("todo-list").doc(t).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(O).dispatch,i=function(){var e=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(T.a)(),e.prev=1,e.next=4,D.addTodo(t,a);case 4:o(p(t,a)),c(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"todo-input"},r.a.createElement(_.a,{value:a,onChange:function(e){var t=e.target.value;return c(t)},placeholder:"Add a TODO",size:"large",className:"todo-input__input","data-cy":"todo-input__input"}),r.a.createElement(k.a,{type:"primary",shape:"round",onClick:i,className:"todo-input__button","data-cy":"todo-input__button"},"Add"))},N=function(e){var t=Object(n.useState)(e.description),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!0),s=Object(u.a)(i,2),d=s[0],p=s[1];return r.a.createElement("div",{className:"todo-task"},d?r.a.createElement("div",{className:"todo-task__name","data-cy":"todo-task__name"},c):r.a.createElement(_.a,{value:c,onChange:function(e){var t=e.target.value;return o(t)},placeholder:"Add a TODO",size:"large",className:"todo-input__input","data-cy":"todo-input__input"}),r.a.createElement(k.a,{type:"primary",shape:"round",className:"todo-task__button","data-cy":"todo-task__button-update",onClick:function(){p(!d),e.update(e.id,c)}},d?"Update":"Save"),r.a.createElement(k.a,{type:"primary",shape:"round",className:"todo-task__button","data-cy":"todo-task__button-delete",onClick:function(){return e.delete(e.id)},disabled:!d},"Delete"))},A=function(){var e=Object(n.useContext)(O),t=e.state,a=e.dispatch;Object(n.useEffect)((function(){(function(){var e=Object(E.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchTodos();case 2:t=e.sent,a(d(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var c=function(){var e=Object(E.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.updateTodo(t,n);case 3:a(l(t,n)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(E.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.deleteTodo(t);case 3:a(f(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"todo-list","data-cy":"todo-list"},Object.entries(t.todos).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement(N,{key:a,description:n.description,update:c,delete:o,id:a})})))},C=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(h,null),r.a.createElement(v,null,r.a.createElement(S,null),r.a.createElement(A,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports=a(116)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.5a28c57d.chunk.js.map